"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/check-booking-conflicts/route";
exports.ids = ["app/api/check-booking-conflicts/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcheck-booking-conflicts%2Froute&page=%2Fapi%2Fcheck-booking-conflicts%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcheck-booking-conflicts%2Froute.ts&appDir=C%3A%5CUsers%5CAbdelrahman%20Elashmaw%5CDesktop%5CAshPhys%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CAbdelrahman%20Elashmaw%5CDesktop%5CAshPhys&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcheck-booking-conflicts%2Froute&page=%2Fapi%2Fcheck-booking-conflicts%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcheck-booking-conflicts%2Froute.ts&appDir=C%3A%5CUsers%5CAbdelrahman%20Elashmaw%5CDesktop%5CAshPhys%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CAbdelrahman%20Elashmaw%5CDesktop%5CAshPhys&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_Abdelrahman_Elashmaw_Desktop_AshPhys_app_api_check_booking_conflicts_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/check-booking-conflicts/route.ts */ \"(rsc)/./app/api/check-booking-conflicts/route.ts\");\n\r\n\r\n\r\n\r\n// We inject the nextConfigOutput here so that we can use them in the route\r\n// module.\r\nconst nextConfigOutput = \"\"\r\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\r\n    definition: {\r\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\r\n        page: \"/api/check-booking-conflicts/route\",\r\n        pathname: \"/api/check-booking-conflicts\",\r\n        filename: \"route\",\r\n        bundlePath: \"app/api/check-booking-conflicts/route\"\r\n    },\r\n    resolvedPagePath: \"C:\\\\Users\\\\Abdelrahman Elashmaw\\\\Desktop\\\\AshPhys\\\\app\\\\api\\\\check-booking-conflicts\\\\route.ts\",\r\n    nextConfigOutput,\r\n    userland: C_Users_Abdelrahman_Elashmaw_Desktop_AshPhys_app_api_check_booking_conflicts_route_ts__WEBPACK_IMPORTED_MODULE_3__\r\n});\r\n// Pull out the exports that we need to expose from the module. This should\r\n// be eliminated when we've moved the other routes to the new format. These\r\n// are used to hook into the route.\r\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\r\nconst originalPathname = \"/api/check-booking-conflicts/route\";\r\nfunction patchFetch() {\r\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\r\n        serverHooks,\r\n        staticGenerationAsyncStorage\r\n    });\r\n}\r\n\r\n\r\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZjaGVjay1ib29raW5nLWNvbmZsaWN0cyUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGY2hlY2stYm9va2luZy1jb25mbGljdHMlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZjaGVjay1ib29raW5nLWNvbmZsaWN0cyUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNBYmRlbHJhaG1hbiUyMEVsYXNobWF3JTVDRGVza3RvcCU1Q0FzaFBoeXMlNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUMlM0ElNUNVc2VycyU1Q0FiZGVscmFobWFuJTIwRWxhc2htYXclNUNEZXNrdG9wJTVDQXNoUGh5cyZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDOEM7QUFDM0g7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpRUFBaUU7QUFDekU7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUN1SDtBQUN2SDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXNocGh5cy8/NmQwNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xyXG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xyXG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XHJcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFxBYmRlbHJhaG1hbiBFbGFzaG1hd1xcXFxEZXNrdG9wXFxcXEFzaFBoeXNcXFxcYXBwXFxcXGFwaVxcXFxjaGVjay1ib29raW5nLWNvbmZsaWN0c1xcXFxyb3V0ZS50c1wiO1xyXG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcclxuLy8gbW9kdWxlLlxyXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxyXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcclxuICAgIGRlZmluaXRpb246IHtcclxuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxyXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9jaGVjay1ib29raW5nLWNvbmZsaWN0cy9yb3V0ZVwiLFxyXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvY2hlY2stYm9va2luZy1jb25mbGljdHNcIixcclxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxyXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9jaGVjay1ib29raW5nLWNvbmZsaWN0cy9yb3V0ZVwiXHJcbiAgICB9LFxyXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJDOlxcXFxVc2Vyc1xcXFxBYmRlbHJhaG1hbiBFbGFzaG1hd1xcXFxEZXNrdG9wXFxcXEFzaFBoeXNcXFxcYXBwXFxcXGFwaVxcXFxjaGVjay1ib29raW5nLWNvbmZsaWN0c1xcXFxyb3V0ZS50c1wiLFxyXG4gICAgbmV4dENvbmZpZ091dHB1dCxcclxuICAgIHVzZXJsYW5kXHJcbn0pO1xyXG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcclxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXHJcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXHJcbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xyXG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL2NoZWNrLWJvb2tpbmctY29uZmxpY3RzL3JvdXRlXCI7XHJcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XHJcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xyXG4gICAgICAgIHNlcnZlckhvb2tzLFxyXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcclxuICAgIH0pO1xyXG59XHJcbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XHJcblxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcheck-booking-conflicts%2Froute&page=%2Fapi%2Fcheck-booking-conflicts%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcheck-booking-conflicts%2Froute.ts&appDir=C%3A%5CUsers%5CAbdelrahman%20Elashmaw%5CDesktop%5CAshPhys%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CAbdelrahman%20Elashmaw%5CDesktop%5CAshPhys&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/check-booking-conflicts/route.ts":
/*!**************************************************!*\
  !*** ./app/api/check-booking-conflicts/route.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_booking_conflicts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/booking-conflicts */ \"(rsc)/./lib/booking-conflicts.ts\");\n\n\n// Mock existing bookings - In production, this would come from your database\nconst mockExistingBookings = [];\nasync function POST(req) {\n    try {\n        const { action, startDate, timeSlot, targetDate, sessionsPerWeek } = await req.json();\n        if (action === \"checkConflicts\") {\n            // Check if a proposed booking conflicts with existing ones\n            if (!startDate || !timeSlot) {\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    error: \"Missing startDate or timeSlot\"\n                }, {\n                    status: 400\n                });\n            }\n            const proposedDate = new Date(startDate);\n            const proposedFrequency = sessionsPerWeek === 2 ? 2 : 3;\n            const conflicts = (0,_lib_booking_conflicts__WEBPACK_IMPORTED_MODULE_1__.checkBookingConflicts)(proposedDate, timeSlot, proposedFrequency, mockExistingBookings);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                hasConflicts: conflicts.length > 0,\n                conflicts,\n                message: conflicts.length > 0 ? `This time slot conflicts with ${conflicts.length} existing session(s)` : \"No conflicts found\"\n            });\n        }\n        if (action === \"getOccupiedSlots\") {\n            // Get all occupied time slots for a specific date\n            if (!targetDate) {\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    error: \"Missing targetDate\"\n                }, {\n                    status: 400\n                });\n            }\n            const date = new Date(targetDate);\n            const occupiedSlots = (0,_lib_booking_conflicts__WEBPACK_IMPORTED_MODULE_1__.getOccupiedTimeSlotsForDate)(date, mockExistingBookings);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                occupiedSlots,\n                message: `Found ${occupiedSlots.length} occupied time slot(s) for this date`\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Invalid action\"\n        }, {\n            status: 400\n        });\n    } catch (error) {\n        console.error(\"Error checking booking conflicts:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to check booking conflicts\"\n        }, {\n            status: 500\n        });\n    }\n} // Future: Database integration example\n /*\r\nimport { PrismaClient } from '@prisma/client';\r\n\r\nconst prisma = new PrismaClient();\r\n\r\nexport async function getExistingBookingsFromDB() {\r\n  const bookings = await prisma.booking.findMany({\r\n    select: {\r\n      startDate: true,\r\n      timeSlot: true,\r\n      studentName: true,\r\n    }\r\n  });\r\n  \r\n  return bookings;\r\n}\r\n*/ \n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2NoZWNrLWJvb2tpbmctY29uZmxpY3RzL3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUF3RDtBQUNxQztBQUU3Riw2RUFBNkU7QUFDN0UsTUFBTUcsdUJBQXVCLEVBTzVCO0FBRU0sZUFBZUMsS0FBS0MsR0FBZ0I7SUFDekMsSUFBSTtRQUNGLE1BQU0sRUFBRUMsTUFBTSxFQUFFQyxTQUFTLEVBQUVDLFFBQVEsRUFBRUMsVUFBVSxFQUFFQyxlQUFlLEVBQUUsR0FBRyxNQUFNTCxJQUFJTSxJQUFJO1FBRW5GLElBQUlMLFdBQVcsa0JBQWtCO1lBQy9CLDJEQUEyRDtZQUMzRCxJQUFJLENBQUNDLGFBQWEsQ0FBQ0MsVUFBVTtnQkFDM0IsT0FBT1IscURBQVlBLENBQUNXLElBQUksQ0FBQztvQkFBRUMsT0FBTztnQkFBZ0MsR0FBRztvQkFBRUMsUUFBUTtnQkFBSTtZQUNyRjtZQUVBLE1BQU1DLGVBQWUsSUFBSUMsS0FBS1I7WUFDOUIsTUFBTVMsb0JBQW9CTixvQkFBb0IsSUFBSSxJQUFJO1lBQ3RELE1BQU1PLFlBQVloQiw2RUFBcUJBLENBQUNhLGNBQWNOLFVBQVVRLG1CQUFtQmI7WUFFbkYsT0FBT0gscURBQVlBLENBQUNXLElBQUksQ0FBQztnQkFDdkJPLGNBQWNELFVBQVVFLE1BQU0sR0FBRztnQkFDakNGO2dCQUNBRyxTQUFTSCxVQUFVRSxNQUFNLEdBQUcsSUFDeEIsQ0FBQyw4QkFBOEIsRUFBRUYsVUFBVUUsTUFBTSxDQUFDLG9CQUFvQixDQUFDLEdBQ3ZFO1lBQ047UUFDRjtRQUVBLElBQUliLFdBQVcsb0JBQW9CO1lBQ2pDLGtEQUFrRDtZQUNsRCxJQUFJLENBQUNHLFlBQVk7Z0JBQ2YsT0FBT1QscURBQVlBLENBQUNXLElBQUksQ0FBQztvQkFBRUMsT0FBTztnQkFBcUIsR0FBRztvQkFBRUMsUUFBUTtnQkFBSTtZQUMxRTtZQUVBLE1BQU1RLE9BQU8sSUFBSU4sS0FBS047WUFDdEIsTUFBTWEsZ0JBQWdCcEIsbUZBQTJCQSxDQUFDbUIsTUFBTWxCO1lBRXhELE9BQU9ILHFEQUFZQSxDQUFDVyxJQUFJLENBQUM7Z0JBQ3ZCVztnQkFDQUYsU0FBUyxDQUFDLE1BQU0sRUFBRUUsY0FBY0gsTUFBTSxDQUFDLG9DQUFvQyxDQUFDO1lBQzlFO1FBQ0Y7UUFFQSxPQUFPbkIscURBQVlBLENBQUNXLElBQUksQ0FBQztZQUFFQyxPQUFPO1FBQWlCLEdBQUc7WUFBRUMsUUFBUTtRQUFJO0lBRXRFLEVBQUUsT0FBT0QsT0FBTztRQUNkVyxRQUFRWCxLQUFLLENBQUMscUNBQXFDQTtRQUNuRCxPQUFPWixxREFBWUEsQ0FBQ1csSUFBSSxDQUFDO1lBQ3ZCQyxPQUFPO1FBQ1QsR0FBRztZQUFFQyxRQUFRO1FBQUk7SUFDbkI7QUFDRixFQUVBLHVDQUF1QztDQUN2Qzs7Ozs7Ozs7Ozs7Ozs7OztBQWdCQSIsInNvdXJjZXMiOlsid2VicGFjazovL2FzaHBoeXMvLi9hcHAvYXBpL2NoZWNrLWJvb2tpbmctY29uZmxpY3RzL3JvdXRlLnRzPzAxZWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcclxuaW1wb3J0IHsgY2hlY2tCb29raW5nQ29uZmxpY3RzLCBnZXRPY2N1cGllZFRpbWVTbG90c0ZvckRhdGUgfSBmcm9tICdAL2xpYi9ib29raW5nLWNvbmZsaWN0cyc7XHJcblxyXG4vLyBNb2NrIGV4aXN0aW5nIGJvb2tpbmdzIC0gSW4gcHJvZHVjdGlvbiwgdGhpcyB3b3VsZCBjb21lIGZyb20geW91ciBkYXRhYmFzZVxyXG5jb25zdCBtb2NrRXhpc3RpbmdCb29raW5ncyA9IFtcclxuICAvLyBFeGFtcGxlOiBBbGV4IGJvb2tlZCBBdWcgMzEsIDIwMjQgYXQgNiBQTVxyXG4gIC8vIHtcclxuICAvLyAgIHN0YXJ0RGF0ZTogbmV3IERhdGUoJzIwMjQtMDgtMzFUMTg6MDA6MDAnKSxcclxuICAvLyAgIHRpbWVTbG90OiAnMTg6MDAnLFxyXG4gIC8vICAgc3R1ZGVudE5hbWU6ICdBbGV4J1xyXG4gIC8vIH1cclxuXTtcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcTogTmV4dFJlcXVlc3QpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyBhY3Rpb24sIHN0YXJ0RGF0ZSwgdGltZVNsb3QsIHRhcmdldERhdGUsIHNlc3Npb25zUGVyV2VlayB9ID0gYXdhaXQgcmVxLmpzb24oKTtcclxuXHJcbiAgICBpZiAoYWN0aW9uID09PSAnY2hlY2tDb25mbGljdHMnKSB7XHJcbiAgICAgIC8vIENoZWNrIGlmIGEgcHJvcG9zZWQgYm9va2luZyBjb25mbGljdHMgd2l0aCBleGlzdGluZyBvbmVzXHJcbiAgICAgIGlmICghc3RhcnREYXRlIHx8ICF0aW1lU2xvdCkge1xyXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnTWlzc2luZyBzdGFydERhdGUgb3IgdGltZVNsb3QnIH0sIHsgc3RhdHVzOiA0MDAgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IHByb3Bvc2VkRGF0ZSA9IG5ldyBEYXRlKHN0YXJ0RGF0ZSk7XHJcbiAgICAgIGNvbnN0IHByb3Bvc2VkRnJlcXVlbmN5ID0gc2Vzc2lvbnNQZXJXZWVrID09PSAyID8gMiA6IDM7XHJcbiAgICAgIGNvbnN0IGNvbmZsaWN0cyA9IGNoZWNrQm9va2luZ0NvbmZsaWN0cyhwcm9wb3NlZERhdGUsIHRpbWVTbG90LCBwcm9wb3NlZEZyZXF1ZW5jeSwgbW9ja0V4aXN0aW5nQm9va2luZ3MpO1xyXG5cclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcclxuICAgICAgICBoYXNDb25mbGljdHM6IGNvbmZsaWN0cy5sZW5ndGggPiAwLFxyXG4gICAgICAgIGNvbmZsaWN0cyxcclxuICAgICAgICBtZXNzYWdlOiBjb25mbGljdHMubGVuZ3RoID4gMCBcclxuICAgICAgICAgID8gYFRoaXMgdGltZSBzbG90IGNvbmZsaWN0cyB3aXRoICR7Y29uZmxpY3RzLmxlbmd0aH0gZXhpc3Rpbmcgc2Vzc2lvbihzKWBcclxuICAgICAgICAgIDogJ05vIGNvbmZsaWN0cyBmb3VuZCdcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGFjdGlvbiA9PT0gJ2dldE9jY3VwaWVkU2xvdHMnKSB7XHJcbiAgICAgIC8vIEdldCBhbGwgb2NjdXBpZWQgdGltZSBzbG90cyBmb3IgYSBzcGVjaWZpYyBkYXRlXHJcbiAgICAgIGlmICghdGFyZ2V0RGF0ZSkge1xyXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnTWlzc2luZyB0YXJnZXREYXRlJyB9LCB7IHN0YXR1czogNDAwIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUodGFyZ2V0RGF0ZSk7XHJcbiAgICAgIGNvbnN0IG9jY3VwaWVkU2xvdHMgPSBnZXRPY2N1cGllZFRpbWVTbG90c0ZvckRhdGUoZGF0ZSwgbW9ja0V4aXN0aW5nQm9va2luZ3MpO1xyXG5cclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcclxuICAgICAgICBvY2N1cGllZFNsb3RzLFxyXG4gICAgICAgIG1lc3NhZ2U6IGBGb3VuZCAke29jY3VwaWVkU2xvdHMubGVuZ3RofSBvY2N1cGllZCB0aW1lIHNsb3QocykgZm9yIHRoaXMgZGF0ZWBcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdJbnZhbGlkIGFjdGlvbicgfSwgeyBzdGF0dXM6IDQwMCB9KTtcclxuXHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNoZWNraW5nIGJvb2tpbmcgY29uZmxpY3RzOicsIGVycm9yKTtcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IFxyXG4gICAgICBlcnJvcjogJ0ZhaWxlZCB0byBjaGVjayBib29raW5nIGNvbmZsaWN0cycgXHJcbiAgICB9LCB7IHN0YXR1czogNTAwIH0pO1xyXG4gIH1cclxufVxyXG5cclxuLy8gRnV0dXJlOiBEYXRhYmFzZSBpbnRlZ3JhdGlvbiBleGFtcGxlXHJcbi8qXHJcbmltcG9ydCB7IFByaXNtYUNsaWVudCB9IGZyb20gJ0BwcmlzbWEvY2xpZW50JztcclxuXHJcbmNvbnN0IHByaXNtYSA9IG5ldyBQcmlzbWFDbGllbnQoKTtcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRFeGlzdGluZ0Jvb2tpbmdzRnJvbURCKCkge1xyXG4gIGNvbnN0IGJvb2tpbmdzID0gYXdhaXQgcHJpc21hLmJvb2tpbmcuZmluZE1hbnkoe1xyXG4gICAgc2VsZWN0OiB7XHJcbiAgICAgIHN0YXJ0RGF0ZTogdHJ1ZSxcclxuICAgICAgdGltZVNsb3Q6IHRydWUsXHJcbiAgICAgIHN0dWRlbnROYW1lOiB0cnVlLFxyXG4gICAgfVxyXG4gIH0pO1xyXG4gIFxyXG4gIHJldHVybiBib29raW5ncztcclxufVxyXG4qL1xyXG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiY2hlY2tCb29raW5nQ29uZmxpY3RzIiwiZ2V0T2NjdXBpZWRUaW1lU2xvdHNGb3JEYXRlIiwibW9ja0V4aXN0aW5nQm9va2luZ3MiLCJQT1NUIiwicmVxIiwiYWN0aW9uIiwic3RhcnREYXRlIiwidGltZVNsb3QiLCJ0YXJnZXREYXRlIiwic2Vzc2lvbnNQZXJXZWVrIiwianNvbiIsImVycm9yIiwic3RhdHVzIiwicHJvcG9zZWREYXRlIiwiRGF0ZSIsInByb3Bvc2VkRnJlcXVlbmN5IiwiY29uZmxpY3RzIiwiaGFzQ29uZmxpY3RzIiwibGVuZ3RoIiwibWVzc2FnZSIsImRhdGUiLCJvY2N1cGllZFNsb3RzIiwiY29uc29sZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/check-booking-conflicts/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/booking-conflicts.ts":
/*!**********************************!*\
  !*** ./lib/booking-conflicts.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   checkBookingConflicts: () => (/* binding */ checkBookingConflicts),\n/* harmony export */   generateMonthlySessionDates: () => (/* binding */ generateMonthlySessionDates),\n/* harmony export */   getOccupiedTimeSlotsForDate: () => (/* binding */ getOccupiedTimeSlotsForDate)\n/* harmony export */ });\n/* harmony import */ var _barrel_optimize_names_addDays_date_fns__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! __barrel_optimize__?names=addDays!=!date-fns */ \"(rsc)/./node_modules/date-fns/addDays.mjs\");\n\n// Generate session dates for a monthly course starting from a given date using consistent weekly patterns\nfunction generateMonthlySessionDates(startDate, sessionsPerWeek = 3) {\n    const sessions = [];\n    const totalSessions = sessionsPerWeek === 2 ? 8 : 12;\n    // Create the weekly pattern starting from the selected date\n    const weeklyPattern = []; // Array of day-of-week numbers\n    let currentDate = new Date(startDate);\n    // Build the weekly pattern by finding the next available days with day off between sessions\n    for(let i = 0; i < sessionsPerWeek; i++){\n        // Skip Sunday (day 0)\n        while(currentDate.getDay() === 0){\n            currentDate = (0,_barrel_optimize_names_addDays_date_fns__WEBPACK_IMPORTED_MODULE_0__.addDays)(currentDate, 1);\n        }\n        weeklyPattern.push(currentDate.getDay());\n        // Move to next available day for the pattern (skip one day for day off)\n        if (i < sessionsPerWeek - 1) {\n            currentDate = (0,_barrel_optimize_names_addDays_date_fns__WEBPACK_IMPORTED_MODULE_0__.addDays)(currentDate, 2); // Skip one day (day off)\n            // Skip Sunday if we land on it\n            while(currentDate.getDay() === 0){\n                currentDate = (0,_barrel_optimize_names_addDays_date_fns__WEBPACK_IMPORTED_MODULE_0__.addDays)(currentDate, 1);\n            }\n        }\n    }\n    // Sort the pattern to ensure consistent weekly order\n    weeklyPattern.sort();\n    // Generate sessions using the consistent weekly pattern\n    let sessionCount = 0;\n    let weekStartDate = new Date(startDate);\n    // Move to the beginning of the week (Monday)\n    while(weekStartDate.getDay() !== 1){\n        weekStartDate = (0,_barrel_optimize_names_addDays_date_fns__WEBPACK_IMPORTED_MODULE_0__.addDays)(weekStartDate, weekStartDate.getDay() === 0 ? 1 : -1);\n    }\n    // Find the first occurrence of our pattern in the start week\n    const startDayOfWeek = startDate.getDay();\n    const patternIndex = weeklyPattern.indexOf(startDayOfWeek);\n    // Start from the selected date's position in the pattern\n    let currentPatternIndex = patternIndex >= 0 ? patternIndex : 0;\n    let currentWeekStart = new Date(weekStartDate);\n    // If we need to start from the actual selected date, adjust the week\n    if (patternIndex >= 0) {\n        // Start from the week containing the selected date\n        while((0,_barrel_optimize_names_addDays_date_fns__WEBPACK_IMPORTED_MODULE_0__.addDays)(currentWeekStart, weeklyPattern[currentPatternIndex] - 1).getTime() < startDate.getTime()){\n            currentWeekStart = (0,_barrel_optimize_names_addDays_date_fns__WEBPACK_IMPORTED_MODULE_0__.addDays)(currentWeekStart, 7);\n        }\n    }\n    while(sessionCount < totalSessions){\n        // Get the day of week for this session from the pattern\n        const dayOfWeek = weeklyPattern[currentPatternIndex];\n        // Calculate the actual date (Monday = 1, so we subtract 1)\n        const sessionDate = (0,_barrel_optimize_names_addDays_date_fns__WEBPACK_IMPORTED_MODULE_0__.addDays)(currentWeekStart, dayOfWeek - 1);\n        sessions.push(new Date(sessionDate));\n        sessionCount++;\n        currentPatternIndex = (currentPatternIndex + 1) % weeklyPattern.length;\n        // If we've completed a full pattern cycle, move to the next week\n        if (currentPatternIndex === 0) {\n            currentWeekStart = (0,_barrel_optimize_names_addDays_date_fns__WEBPACK_IMPORTED_MODULE_0__.addDays)(currentWeekStart, 7);\n        }\n    }\n    return sessions;\n}\n// Check if a proposed booking conflicts with existing bookings\nfunction checkBookingConflicts(proposedStartDate, proposedTimeSlot, proposedSessionsPerWeek, existingBookings) {\n    const proposedSessions = generateMonthlySessionDates(proposedStartDate, proposedSessionsPerWeek);\n    const conflicts = [];\n    // Check each existing booking\n    for (const existing of existingBookings){\n        // Skip if different time slot\n        if (existing.timeSlot !== proposedTimeSlot) continue;\n        const existingSessions = generateMonthlySessionDates(existing.startDate, existing.sessionsPerWeek || 3);\n        // Check for date conflicts\n        for (const proposedSession of proposedSessions){\n            for (const existingSession of existingSessions){\n                if (proposedSession.getTime() === existingSession.getTime()) {\n                    conflicts.push({\n                        date: new Date(proposedSession),\n                        timeSlot: proposedTimeSlot,\n                        studentName: existing.studentName\n                    });\n                }\n            }\n        }\n    }\n    return conflicts;\n}\n// Get all occupied time slots for a specific date\nfunction getOccupiedTimeSlotsForDate(targetDate, existingBookings) {\n    const occupiedSlots = [];\n    for (const booking of existingBookings){\n        const sessionDates = generateMonthlySessionDates(booking.startDate, booking.sessionsPerWeek || 3);\n        // Check if any session falls on the target date\n        const hasSessionOnDate = sessionDates.some((sessionDate)=>sessionDate.toDateString() === targetDate.toDateString());\n        if (hasSessionOnDate && !occupiedSlots.includes(booking.timeSlot)) {\n            occupiedSlots.push(booking.timeSlot);\n        }\n    }\n    return occupiedSlots;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QWUsSUFBSTtRQUc5QiwyQkFBMkI7UUFDM0IsS0FBSyxNQUFNK0IsbUJBQW1CTCxpQkFBa0I7WUFDOUMsS0FBSyxNQUFNTSxtQkFBbUJGLGlCQUFrQjtnQkFDOUMsSUFBSUMsZ0JBQWdCZCxPQUFPLE9BQU9lLGdCQUFnQmYsT0FBTyxJQUFJO29CQUMzRFUsVUFBVW5CLElBQUksQ0FBQzt3QkFDYnlCLE1BQU0sSUFBSTVCLEtBQUswQjt3QkFDZkYsVUFBVU47d0JBQ1ZXLGFBQWFOLFNBQVNNLFdBQVc7b0JBQ25DO2dCQUNGO1lBQ0Y7UUFDRjtJQUNGO0lBRUEsT0FBT1A7QUFDVDtBQUVBLGtEQUFrRDtBQUMzQyxTQUFTUSw0QkFDZEMsVUFBZ0IsRUFDaEJYLGdCQUtFO0lBRUYsTUFBTVksZ0JBQTBCLEVBQUU7SUFFbEMsS0FBSyxNQUFNQyxXQUFXYixpQkFBa0I7UUFDdEMsTUFBTWMsZUFBZXpDLDRCQUNuQndDLFFBQVF2QyxTQUFTLEVBQ2pCdUMsUUFBUXRDLGVBQWUsSUFBSTtRQUc3QixnREFBZ0Q7UUFDaEQsTUFBTXdDLG1CQUFtQkQsYUFBYUUsSUFBSSxDQUN4Q3RCLENBQUFBLGNBQWVBLFlBQVl1QixZQUFZLE9BQU9OLFdBQVdNLFlBQVk7UUFHdkUsSUFBSUYsb0JBQW9CLENBQUNILGNBQWNNLFFBQVEsQ0FBQ0wsUUFBUVQsUUFBUSxHQUFHO1lBQ2pFUSxjQUFjN0IsSUFBSSxDQUFDOEIsUUFBUVQsUUFBUTtRQUNyQztJQUNGO0lBRUEsT0FBT1E7QUFDVCIsInNvdXJjZXMiOlsid2VicGFjazovL2FzaHBoeXMvLi9saWIvYm9va2luZy1jb25mbGljdHMudHM/Y2QxMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhZGREYXlzIH0gZnJvbSAnZGF0ZS1mbnMnO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBCb29raW5nQ29uZmxpY3Qge1xyXG4gIGRhdGU6IERhdGU7XHJcbiAgdGltZVNsb3Q6IHN0cmluZztcclxuICBzdHVkZW50TmFtZTogc3RyaW5nO1xyXG59XHJcblxyXG4vLyBHZW5lcmF0ZSBzZXNzaW9uIGRhdGVzIGZvciBhIG1vbnRobHkgY291cnNlIHN0YXJ0aW5nIGZyb20gYSBnaXZlbiBkYXRlIHVzaW5nIGNvbnNpc3RlbnQgd2Vla2x5IHBhdHRlcm5zXHJcbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZU1vbnRobHlTZXNzaW9uRGF0ZXMoc3RhcnREYXRlOiBEYXRlLCBzZXNzaW9uc1BlcldlZWs6IDIgfCAzID0gMyk6IERhdGVbXSB7XHJcbiAgY29uc3Qgc2Vzc2lvbnM6IERhdGVbXSA9IFtdO1xyXG4gIGNvbnN0IHRvdGFsU2Vzc2lvbnMgPSBzZXNzaW9uc1BlcldlZWsgPT09IDIgPyA4IDogMTI7XHJcbiAgXHJcbiAgLy8gQ3JlYXRlIHRoZSB3ZWVrbHkgcGF0dGVybiBzdGFydGluZyBmcm9tIHRoZSBzZWxlY3RlZCBkYXRlXHJcbiAgY29uc3Qgd2Vla2x5UGF0dGVybjogbnVtYmVyW10gPSBbXTsgLy8gQXJyYXkgb2YgZGF5LW9mLXdlZWsgbnVtYmVyc1xyXG4gIGxldCBjdXJyZW50RGF0ZSA9IG5ldyBEYXRlKHN0YXJ0RGF0ZSk7XHJcbiAgXHJcbiAgLy8gQnVpbGQgdGhlIHdlZWtseSBwYXR0ZXJuIGJ5IGZpbmRpbmcgdGhlIG5leHQgYXZhaWxhYmxlIGRheXMgd2l0aCBkYXkgb2ZmIGJldHdlZW4gc2Vzc2lvbnNcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IHNlc3Npb25zUGVyV2VlazsgaSsrKSB7XHJcbiAgICAvLyBTa2lwIFN1bmRheSAoZGF5IDApXHJcbiAgICB3aGlsZSAoY3VycmVudERhdGUuZ2V0RGF5KCkgPT09IDApIHtcclxuICAgICAgY3VycmVudERhdGUgPSBhZGREYXlzKGN1cnJlbnREYXRlLCAxKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgd2Vla2x5UGF0dGVybi5wdXNoKGN1cnJlbnREYXRlLmdldERheSgpKTtcclxuICAgIFxyXG4gICAgLy8gTW92ZSB0byBuZXh0IGF2YWlsYWJsZSBkYXkgZm9yIHRoZSBwYXR0ZXJuIChza2lwIG9uZSBkYXkgZm9yIGRheSBvZmYpXHJcbiAgICBpZiAoaSA8IHNlc3Npb25zUGVyV2VlayAtIDEpIHtcclxuICAgICAgY3VycmVudERhdGUgPSBhZGREYXlzKGN1cnJlbnREYXRlLCAyKTsgLy8gU2tpcCBvbmUgZGF5IChkYXkgb2ZmKVxyXG4gICAgICAvLyBTa2lwIFN1bmRheSBpZiB3ZSBsYW5kIG9uIGl0XHJcbiAgICAgIHdoaWxlIChjdXJyZW50RGF0ZS5nZXREYXkoKSA9PT0gMCkge1xyXG4gICAgICAgIGN1cnJlbnREYXRlID0gYWRkRGF5cyhjdXJyZW50RGF0ZSwgMSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbiAgXHJcbiAgLy8gU29ydCB0aGUgcGF0dGVybiB0byBlbnN1cmUgY29uc2lzdGVudCB3ZWVrbHkgb3JkZXJcclxuICB3ZWVrbHlQYXR0ZXJuLnNvcnQoKTtcclxuICBcclxuICAvLyBHZW5lcmF0ZSBzZXNzaW9ucyB1c2luZyB0aGUgY29uc2lzdGVudCB3ZWVrbHkgcGF0dGVyblxyXG4gIGxldCBzZXNzaW9uQ291bnQgPSAwO1xyXG4gIGxldCB3ZWVrU3RhcnREYXRlID0gbmV3IERhdGUoc3RhcnREYXRlKTtcclxuICAvLyBNb3ZlIHRvIHRoZSBiZWdpbm5pbmcgb2YgdGhlIHdlZWsgKE1vbmRheSlcclxuICB3aGlsZSAod2Vla1N0YXJ0RGF0ZS5nZXREYXkoKSAhPT0gMSkge1xyXG4gICAgd2Vla1N0YXJ0RGF0ZSA9IGFkZERheXMod2Vla1N0YXJ0RGF0ZSwgd2Vla1N0YXJ0RGF0ZS5nZXREYXkoKSA9PT0gMCA/IDEgOiAtMSk7XHJcbiAgfVxyXG4gIFxyXG4gIC8vIEZpbmQgdGhlIGZpcnN0IG9jY3VycmVuY2Ugb2Ygb3VyIHBhdHRlcm4gaW4gdGhlIHN0YXJ0IHdlZWtcclxuICBjb25zdCBzdGFydERheU9mV2VlayA9IHN0YXJ0RGF0ZS5nZXREYXkoKTtcclxuICBjb25zdCBwYXR0ZXJuSW5kZXggPSB3ZWVrbHlQYXR0ZXJuLmluZGV4T2Yoc3RhcnREYXlPZldlZWspO1xyXG4gIFxyXG4gIC8vIFN0YXJ0IGZyb20gdGhlIHNlbGVjdGVkIGRhdGUncyBwb3NpdGlvbiBpbiB0aGUgcGF0dGVyblxyXG4gIGxldCBjdXJyZW50UGF0dGVybkluZGV4ID0gcGF0dGVybkluZGV4ID49IDAgPyBwYXR0ZXJuSW5kZXggOiAwO1xyXG4gIGxldCBjdXJyZW50V2Vla1N0YXJ0ID0gbmV3IERhdGUod2Vla1N0YXJ0RGF0ZSk7XHJcbiAgXHJcbiAgLy8gSWYgd2UgbmVlZCB0byBzdGFydCBmcm9tIHRoZSBhY3R1YWwgc2VsZWN0ZWQgZGF0ZSwgYWRqdXN0IHRoZSB3ZWVrXHJcbiAgaWYgKHBhdHRlcm5JbmRleCA+PSAwKSB7XHJcbiAgICAvLyBTdGFydCBmcm9tIHRoZSB3ZWVrIGNvbnRhaW5pbmcgdGhlIHNlbGVjdGVkIGRhdGVcclxuICAgIHdoaWxlIChhZGREYXlzKGN1cnJlbnRXZWVrU3RhcnQsIHdlZWtseVBhdHRlcm5bY3VycmVudFBhdHRlcm5JbmRleF0gLSAxKS5nZXRUaW1lKCkgPCBzdGFydERhdGUuZ2V0VGltZSgpKSB7XHJcbiAgICAgIGN1cnJlbnRXZWVrU3RhcnQgPSBhZGREYXlzKGN1cnJlbnRXZWVrU3RhcnQsIDcpO1xyXG4gICAgfVxyXG4gIH1cclxuICBcclxuICB3aGlsZSAoc2Vzc2lvbkNvdW50IDwgdG90YWxTZXNzaW9ucykge1xyXG4gICAgLy8gR2V0IHRoZSBkYXkgb2Ygd2VlayBmb3IgdGhpcyBzZXNzaW9uIGZyb20gdGhlIHBhdHRlcm5cclxuICAgIGNvbnN0IGRheU9mV2VlayA9IHdlZWtseVBhdHRlcm5bY3VycmVudFBhdHRlcm5JbmRleF07XHJcbiAgICBcclxuICAgIC8vIENhbGN1bGF0ZSB0aGUgYWN0dWFsIGRhdGUgKE1vbmRheSA9IDEsIHNvIHdlIHN1YnRyYWN0IDEpXHJcbiAgICBjb25zdCBzZXNzaW9uRGF0ZSA9IGFkZERheXMoY3VycmVudFdlZWtTdGFydCwgZGF5T2ZXZWVrIC0gMSk7XHJcbiAgICBcclxuICAgIHNlc3Npb25zLnB1c2gobmV3IERhdGUoc2Vzc2lvbkRhdGUpKTtcclxuICAgIFxyXG4gICAgc2Vzc2lvbkNvdW50Kys7XHJcbiAgICBjdXJyZW50UGF0dGVybkluZGV4ID0gKGN1cnJlbnRQYXR0ZXJuSW5kZXggKyAxKSAlIHdlZWtseVBhdHRlcm4ubGVuZ3RoO1xyXG4gICAgXHJcbiAgICAvLyBJZiB3ZSd2ZSBjb21wbGV0ZWQgYSBmdWxsIHBhdHRlcm4gY3ljbGUsIG1vdmUgdG8gdGhlIG5leHQgd2Vla1xyXG4gICAgaWYgKGN1cnJlbnRQYXR0ZXJuSW5kZXggPT09IDApIHtcclxuICAgICAgY3VycmVudFdlZWtTdGFydCA9IGFkZERheXMoY3VycmVudFdlZWtTdGFydCwgNyk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIFxyXG4gIHJldHVybiBzZXNzaW9ucztcclxufVxyXG5cclxuLy8gQ2hlY2sgaWYgYSBwcm9wb3NlZCBib29raW5nIGNvbmZsaWN0cyB3aXRoIGV4aXN0aW5nIGJvb2tpbmdzXHJcbmV4cG9ydCBmdW5jdGlvbiBjaGVja0Jvb2tpbmdDb25mbGljdHMoXHJcbiAgcHJvcG9zZWRTdGFydERhdGU6IERhdGUsXHJcbiAgcHJvcG9zZWRUaW1lU2xvdDogc3RyaW5nLFxyXG4gIHByb3Bvc2VkU2Vzc2lvbnNQZXJXZWVrOiAyIHwgMyxcclxuICBleGlzdGluZ0Jvb2tpbmdzOiBBcnJheTx7XHJcbiAgICBzdGFydERhdGU6IERhdGU7XHJcbiAgICB0aW1lU2xvdDogc3RyaW5nO1xyXG4gICAgc3R1ZGVudE5hbWU6IHN0cmluZztcclxuICAgIHNlc3Npb25zUGVyV2Vlaz86IDIgfCAzO1xyXG4gIH0+XHJcbik6IEJvb2tpbmdDb25mbGljdFtdIHtcclxuICBjb25zdCBwcm9wb3NlZFNlc3Npb25zID0gZ2VuZXJhdGVNb250aGx5U2Vzc2lvbkRhdGVzKHByb3Bvc2VkU3RhcnREYXRlLCBwcm9wb3NlZFNlc3Npb25zUGVyV2Vlayk7XHJcbiAgY29uc3QgY29uZmxpY3RzOiBCb29raW5nQ29uZmxpY3RbXSA9IFtdO1xyXG4gIFxyXG4gIC8vIENoZWNrIGVhY2ggZXhpc3RpbmcgYm9va2luZ1xyXG4gIGZvciAoY29uc3QgZXhpc3Rpbmcgb2YgZXhpc3RpbmdCb29raW5ncykge1xyXG4gICAgLy8gU2tpcCBpZiBkaWZmZXJlbnQgdGltZSBzbG90XHJcbiAgICBpZiAoZXhpc3RpbmcudGltZVNsb3QgIT09IHByb3Bvc2VkVGltZVNsb3QpIGNvbnRpbnVlO1xyXG4gICAgXHJcbiAgICBjb25zdCBleGlzdGluZ1Nlc3Npb25zID0gZ2VuZXJhdGVNb250aGx5U2Vzc2lvbkRhdGVzKFxyXG4gICAgICBleGlzdGluZy5zdGFydERhdGUsIFxyXG4gICAgICBleGlzdGluZy5zZXNzaW9uc1BlcldlZWsgfHwgM1xyXG4gICAgKTtcclxuICAgIFxyXG4gICAgLy8gQ2hlY2sgZm9yIGRhdGUgY29uZmxpY3RzXHJcbiAgICBmb3IgKGNvbnN0IHByb3Bvc2VkU2Vzc2lvbiBvZiBwcm9wb3NlZFNlc3Npb25zKSB7XHJcbiAgICAgIGZvciAoY29uc3QgZXhpc3RpbmdTZXNzaW9uIG9mIGV4aXN0aW5nU2Vzc2lvbnMpIHtcclxuICAgICAgICBpZiAocHJvcG9zZWRTZXNzaW9uLmdldFRpbWUoKSA9PT0gZXhpc3RpbmdTZXNzaW9uLmdldFRpbWUoKSkge1xyXG4gICAgICAgICAgY29uZmxpY3RzLnB1c2goe1xyXG4gICAgICAgICAgICBkYXRlOiBuZXcgRGF0ZShwcm9wb3NlZFNlc3Npb24pLFxyXG4gICAgICAgICAgICB0aW1lU2xvdDogcHJvcG9zZWRUaW1lU2xvdCxcclxuICAgICAgICAgICAgc3R1ZGVudE5hbWU6IGV4aXN0aW5nLnN0dWRlbnROYW1lXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbiAgXHJcbiAgcmV0dXJuIGNvbmZsaWN0cztcclxufVxyXG5cclxuLy8gR2V0IGFsbCBvY2N1cGllZCB0aW1lIHNsb3RzIGZvciBhIHNwZWNpZmljIGRhdGVcclxuZXhwb3J0IGZ1bmN0aW9uIGdldE9jY3VwaWVkVGltZVNsb3RzRm9yRGF0ZShcclxuICB0YXJnZXREYXRlOiBEYXRlLFxyXG4gIGV4aXN0aW5nQm9va2luZ3M6IEFycmF5PHtcclxuICAgIHN0YXJ0RGF0ZTogRGF0ZTtcclxuICAgIHRpbWVTbG90OiBzdHJpbmc7XHJcbiAgICBzdHVkZW50TmFtZTogc3RyaW5nO1xyXG4gICAgc2Vzc2lvbnNQZXJXZWVrPzogMiB8IDM7XHJcbiAgfT5cclxuKTogc3RyaW5nW10ge1xyXG4gIGNvbnN0IG9jY3VwaWVkU2xvdHM6IHN0cmluZ1tdID0gW107XHJcbiAgXHJcbiAgZm9yIChjb25zdCBib29raW5nIG9mIGV4aXN0aW5nQm9va2luZ3MpIHtcclxuICAgIGNvbnN0IHNlc3Npb25EYXRlcyA9IGdlbmVyYXRlTW9udGhseVNlc3Npb25EYXRlcyhcclxuICAgICAgYm9va2luZy5zdGFydERhdGUsIFxyXG4gICAgICBib29raW5nLnNlc3Npb25zUGVyV2VlayB8fCAzXHJcbiAgICApO1xyXG4gICAgXHJcbiAgICAvLyBDaGVjayBpZiBhbnkgc2Vzc2lvbiBmYWxscyBvbiB0aGUgdGFyZ2V0IGRhdGVcclxuICAgIGNvbnN0IGhhc1Nlc3Npb25PbkRhdGUgPSBzZXNzaW9uRGF0ZXMuc29tZShcclxuICAgICAgc2Vzc2lvbkRhdGUgPT4gc2Vzc2lvbkRhdGUudG9EYXRlU3RyaW5nKCkgPT09IHRhcmdldERhdGUudG9EYXRlU3RyaW5nKClcclxuICAgICk7XHJcbiAgICBcclxuICAgIGlmIChoYXNTZXNzaW9uT25EYXRlICYmICFvY2N1cGllZFNsb3RzLmluY2x1ZGVzKGJvb2tpbmcudGltZVNsb3QpKSB7XHJcbiAgICAgIG9jY3VwaWVkU2xvdHMucHVzaChib29raW5nLnRpbWVTbG90KTtcclxuICAgIH1cclxuICB9XHJcbiAgXHJcbiAgcmV0dXJuIG9jY3VwaWVkU2xvdHM7XHJcbn1cclxuIl0sIm5hbWVzIjpbImFkZERheXMiLCJnZW5lcmF0ZU1vbnRobHlTZXNzaW9uRGF0ZXMiLCJzdGFydERhdGUiLCJzZXNzaW9uc1BlcldlZWsiLCJzZXNzaW9ucyIsInRvdGFsU2Vzc2lvbnMiLCJ3ZWVrbHlQYXR0ZXJuIiwiY3VycmVudERhdGUiLCJEYXRlIiwiaSIsImdldERheSIsInB1c2giLCJzb3J0Iiwic2Vzc2lvbkNvdW50Iiwid2Vla1N0YXJ0RGF0ZSIsInN0YXJ0RGF5T2ZXZWVrIiwicGF0dGVybkluZGV4IiwiaW5kZXhPZiIsImN1cnJlbnRQYXR0ZXJuSW5kZXgiLCJjdXJyZW50V2Vla1N0YXJ0IiwiZ2V0VGltZSIsImRheU9mV2VlayIsInNlc3Npb25EYXRlIiwibGVuZ3RoIiwiY2hlY2tCb29raW5nQ29uZmxpY3RzIiwicHJvcG9zZWRTdGFydERhdGUiLCJwcm9wb3NlZFRpbWVTbG90IiwicHJvcG9zZWRTZXNzaW9uc1BlcldlZWsiLCJleGlzdGluZ0Jvb2tpbmdzIiwicHJvcG9zZWRTZXNzaW9ucyIsImNvbmZsaWN0cyIsImV4aXN0aW5nIiwidGltZVNsb3QiLCJleGlzdGluZ1Nlc3Npb25zIiwicHJvcG9zZWRTZXNzaW9uIiwiZXhpc3RpbmdTZXNzaW9uIiwiZGF0ZSIsInN0dWRlbnROYW1lIiwiZ2V0T2NjdXBpZWRUaW1lU2xvdHNGb3JEYXRlIiwidGFyZ2V0RGF0ZSIsIm9jY3VwaWVkU2xvdHMiLCJib29raW5nIiwic2Vzc2lvbkRhdGVzIiwiaGFzU2Vzc2lvbk9uRGF0ZSIsInNvbWUiLCJ0b0RhdGVTdHJpbmciLCJpbmNsdWRlcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/booking-conflicts.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/date-fns"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcheck-booking-conflicts%2Froute&page=%2Fapi%2Fcheck-booking-conflicts%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcheck-booking-conflicts%2Froute.ts&appDir=C%3A%5CUsers%5CAbdelrahman%20Elashmaw%5CDesktop%5CAshPhys%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CAbdelrahman%20Elashmaw%5CDesktop%5CAshPhys&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();